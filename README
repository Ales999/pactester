Pactester
=========

Pactester is a tool to test Proxy Auto Configuration (PAC) files. PAC files are
used by the browsers to determine the "right" proxy for a URL. Testing PAC
files is a difficult task because only browsers understand them and they use
them in an obscure way. I wrote pactester to test the pac files - to find out
which proxy my browser will use for a certain url.

Pactester reads a PAC file, evaluates it in a Javascript context and uses this
PAC file's logic to determine the proxy for a specific url.

Usage:  ./pactester <-p pacfile> <-u url> [-h host]
        ./pactester <-p pacfile> <-f urlslist>

Options:
  -p pacfile: PAC file to test
  -u url: URL to test
  -h host: Host part of the URL
  -f urlslist: a file containing list of URLs to be tested.

Example:
  ./pactester -p wpad.dat -u http://www.google.com
  ./pactester -p wpad.dat -f url_list

* How It Works?
---------------

It evaluates the PAC file in a Javascript context. To do that it uses the
JavaScript::SpiderMonkey perl module, which is a perl interface to  Mozilla's
C implementation of Javascript- Spidermonkey.

PAC files use certain JavaScript functions. These functions have been defined
in pac_utils.js file included with this tool (This file was generated using
another file from Mozilla source code). Also, since JavaScript has no dns
resolving capability which is required by the "dnsResolve" and "myIpAddress"
functions in the PAC files, these functions have been defined in perl and then
exported to a JavaScript context.

* Install
---------

Please see 'INSTALL' in the root directory of the package.

* How to use it?
----------------

Pactester can be used to determine the proxy for a single URL or a list of URLs.

To determine the proxy for a single URL:
./pactester -p www.pac -u http://www.example.com

For a list of URLs :
./pactester -p www.pac -f urllist
where urllist is a file containing the list of URLs separated by newline.

* Platforms
  ---------

pactester has been tested to work on Linux and Intel Macs.

Author: Manu Garg <manugarg@google.com>
Copyright (C) 2006 Google Inc.
